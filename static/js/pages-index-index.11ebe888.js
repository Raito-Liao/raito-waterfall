(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"03bc":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7");var i=n("8d24"),a={name:"RaitoWaterfallItem",props:{itemObject:{type:Object,default:function(){return{}}}},data:function(){return{hideSkeleton:!1,imageUrl:"",contentRect:{extraBoxWidth:0,extraBoxHeight:0,imageRatio:0}}},created:function(){var t=this;this.imageUrl=this.itemObject.imageUrl;var e=this.$watch("contentRect",(function(){var n=t.contentRect,i=n.extraBoxWidth,a=n.extraBoxHeight,o=n.imageRatio,r=t.hideSkeleton;!r&&i&&a&&o&&(t.emitHeight(),t.hideSkeleton=!0,e(),e=null)}),{deep:!0})},mounted:function(){var t=this;this.getExtraBoxWH().finally((function(){t.contentRect.extraBoxWidth&&t.contentRect.extraBoxHeight||t.startObserver()}))},beforeDestroy:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)},methods:{startObserver:function(){var t=this;this.intersectionObserver=uni.createIntersectionObserver(this,{thresholds:[0,1],initialRatio:0,observeAll:!1}),this.intersectionObserver.relativeToViewport(),this.intersectionObserver.observe(".content-box__extra",(function(e){var n=e.boundingClientRect,i=n.width,a=n.height;t.contentRect.extraBoxWidth=i,t.contentRect.extraBoxHeight=a,t.intersectionObserver.disconnect(),t.intersectionObserver=null}))},getExtraBoxWH:function(){var t=this;return(0,i.getRect)(".content-box__extra",this).then((function(e){e&&(t.contentRect.extraBoxWidth=e.width,t.contentRect.extraBoxHeight=e.height)}))},onImageLoad:function(t){var e=t.detail,n=e.width,i=e.height;this.contentRect.imageRatio=n/i},onImageError:function(){this.contentRect.imageRatio=4/3,this.imageUrl="https://fakeimg.pl/400x300"},emitHeight:function(){var t=this.contentRect,e=t.extraBoxWidth,n=t.extraBoxHeight,i=t.imageRatio,a=n+e/i;this.$emit("heightChange",a)}}};e.default=a},"0465":function(t,e,n){var i=n("722e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("10ddfbdf",i,!0,{sourceMap:!1,shadowMode:!1})},1239:function(t,e,n){"use strict";n.r(e);var i=n("03bc"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},2909:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)||(0,a.default)(t)||(0,o.default)(t)||(0,r.default)()};var i=s(n("6005")),a=s(n("db90")),o=s(n("06c5")),r=s(n("3427"));function s(t){return t&&t.__esModule?t:{default:t}}},"2c96":function(t,e,n){"use strict";var i=n("9180"),a=n.n(i);a.a},3427:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},3722:function(t,e,n){"use strict";n.r(e);var i=n("40f3"),a=n("1239");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("4707");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"9e435f36",null,!1,i["a"],void 0);e["default"]=s.exports},"3a25":function(t,e,n){"use strict";var i=n("0465"),a=n.n(i);a.a},"40f3":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"waterfall-item-box"},[t.hideSkeleton?t._e():n("v-uni-view",{staticClass:"skeleton-box"},[n("v-uni-view",{staticClass:"skeletons"},[n("v-uni-view",{staticClass:"skeleton__item",staticStyle:{width:"100%",height:"120px","border-radius":"5px 5px 0px 0px"}}),n("v-uni-view",{staticClass:"skeleton__item",staticStyle:{width:"50%",height:"18px","margin-top":"15px","border-radius":"0rpx 5px 5px 0px"}}),n("v-uni-view",{staticClass:"skeleton__item",staticStyle:{width:"80%",height:"18px","margin-top":"15px","border-radius":"0rpx 5px 5px 0px"}}),n("v-uni-view",{staticClass:"skeleton__item",staticStyle:{width:"50%",height:"18px","margin-top":"15px","border-radius":"0rpx 5px 5px 0px"}})],1)],1),n("v-uni-view",{staticClass:"content-box",class:{loading:!t.hideSkeleton}},[n("v-uni-view",{staticClass:"content-box__image"},[n("v-uni-image",{staticStyle:{width:"100%","border-radius":"5px 5px 0px 0px"},attrs:{src:t.imageUrl,mode:"widthFix","lazy-load":!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.onImageLoad.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.onImageError.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"content-box__extra"},[n("v-uni-view",{staticClass:"content-box__title"},[t._v(t._s(t.itemObject.title))]),n("v-uni-view",{staticClass:"content-box__subtitle"},[t._v(t._s(t.itemObject.subtitle))])],1)],1)],1)},a=[]},4707:function(t,e,n){"use strict";var i=n("faeb"),a=n.n(i);a.a},5174:function(t,e,n){"use strict";n.r(e);var i=n("c957"),a=n("6356");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3a25");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"1648e5f4",null,!1,i["a"],void 0);e["default"]=s.exports},"5d3a":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530")),o=i(n("2909"));n("a9e3"),n("cb29"),n("d9e2"),n("d401"),n("d3b7"),n("159b"),n("c975"),n("14d9");var r=i(n("3722")),s=n("8d24"),l={name:"RaitoWaterfall",components:{RaitoWaterfallItem:r.default},props:{keyName:String,data:{type:Array,default:function(){return[]}},count:{type:Number,default:2},gutter:{type:Number,default:10},lrPading:{type:Number,default:10},skeletonHeight:{type:Number,default:0},animation:{type:Boolean,default:!0}},data:function(){return{waterfallBoxHeight:0,columnWidth:0,renderList:[]}},created:function(){this.columnCount=this.count>5?5:this.count<2?2:Math.floor(this.count),this.columnWidth=(uni.upx2px(750)-2*this.lrPading-(this.columnCount-1)*this.gutter)/this.columnCount,this.throttleRender=(0,s.throttle)(this.startRender.bind(this),100),this.handleDataChange=(0,s.throttle)(this.handleDataChange.bind(this),100),this.cache={},this.$watch("data",this.handleDataChange,{deep:!0,immediate:!0})},methods:{onHeightChange:function(t,e){var n=t._renderKey;this.cache[n].height=e,this.throttleRender()},handleDataChange:function(t,e){(0,s.isArraysEqual)(t,e)||this.startRender()},generateRenderList:function(){var t=[],e=this.columnCount,n=this.columnWidth,i=this.skeletonHeight,r=this.gutter,s=this.lrPading,l=this.keyName,u=this.cache,c=new Array(e).fill(0);if(!l)throw new Error("keyName is required!");this.data.forEach((function(d,f){var h=d[l];if(u[h]||(u[h]={top:0,left:0,width:n,height:i}),f<e)u[h].top=0,u[h].left=s+f*(n+r),c[f]+=u[h].height;else{var p=Math.min.apply(Math,(0,o.default)(c)),v=c.indexOf(p);u[h].top=p+r,u[h].left=s+v*(n+r),c[v]+=u[h].height+r}t.push((0,a.default)((0,a.default)({},d),{},{_layoutRect:u[h],_renderKey:h}))}));var d=Math.max.apply(Math,(0,o.default)(c));return{renderList:t,maxHeight:d}},startRender:function(){var t=this.generateRenderList(),e=t.maxHeight,n=t.renderList;n.length&&(this.renderList=n,this.waterfallBoxHeight=e)}}};e.default=l},6005:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,i.default)(t)};var i=function(t){return t&&t.__esModule?t:{default:t}}(n("6b75"))},6356:function(t,e,n){"use strict";n.r(e);var i=n("5d3a"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"67ed":function(t,e,n){"use strict";n.r(e);var i=n("7151"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},7151:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("99af");var i=1,a={data:function(){return{data:[]}},onReachBottom:function(){this.loadData()},onLoad:function(){this.loadData()},methods:{loadData:function(){var t=this,e=[{id:i++,imageUrl:"https://fakeimg.pl/400x500",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/300x400",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/300x500",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/400x450",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/300x400",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/350x500",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/500x400",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/600x500",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；"},{id:i++,imageUrl:"https://fakeimg.pl/350x450",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/400x450",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题"},{id:i++,imageUrl:"https://fakeimg.pl/500x500",title:"这里是一条标题",subtitle:"这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；这里是一条子标题；"}];setTimeout((function(){t.data=t.data.concat(e)}))}}};e.default=a},"722e":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.waterfall-box[data-v-1648e5f4]{position:relative;width:%?750?%}.waterfall-box .waterfall-box__item[data-v-1648e5f4]{position:absolute}.waterfall-box .waterfall-box__item.animation[data-v-1648e5f4]{transition:all .3s linear}',""]),t.exports=e},7600:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.waterfall-item-box[data-v-9e435f36]{width:100%;box-shadow:0 0 10px 0 rgba(0,0,0,.1);border-radius:5px;background:#fff;position:relative}.skeleton-box[data-v-9e435f36]{height:240px;box-sizing:border-box}.skeleton-box .skeletons .skeleton__item[data-v-9e435f36]{background:linear-gradient(90deg,#f1f2f4 25%,#e6e6e6 37%,#f1f2f4 50%);background-size:400% 100%;-webkit-animation:skeleton-data-v-9e435f36 1.8s ease infinite;animation:skeleton-data-v-9e435f36 1.8s ease infinite}@-webkit-keyframes skeleton-data-v-9e435f36{0%{background-position:100% 50%}100%{background-position:0 50%}}@keyframes skeleton-data-v-9e435f36{0%{background-position:100% 50%}100%{background-position:0 50%}}.content-box[data-v-9e435f36]{position:static}.content-box.loading[data-v-9e435f36]{position:absolute;width:100%;top:0;left:0;opacity:0;pointer-events:none;z-index:-1}.content-box .content-box__image[data-v-9e435f36]{position:relative;overflow:hidden;font-size:0}.content-box .content-box__extra[data-v-9e435f36]{padding:8px 10px 10px}.content-box .content-box__extra .content-box__title[data-v-9e435f36]{font-size:16px;font-weight:700;color:#000}.content-box .content-box__extra .content-box__subtitle[data-v-9e435f36]{font-size:14px;color:#999;margin-top:10px}',""]),t.exports=e},7782:function(t,e,n){"use strict";n.r(e);var i=n("d0e0"),a=n("67ed");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("2c96");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"3d326cb8",null,!1,i["a"],void 0);e["default"]=s.exports},"8ace":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".page[data-v-3d326cb8]{padding-top:15px;background:#f5f5f5}",""]),t.exports=e},"8d24":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.getRect=function(t,e){return new Promise((function(n,i){var a=uni.createSelectorQuery().in(e);a.select(t).boundingClientRect((function(t){t?n(t):i("Not Found")})).exec()}))},e.isArraysEqual=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length===e.length&&JSON.stringify(t)===JSON.stringify(e)},e.throttle=function(t,e,n){var i,a=n||{},o=a.noTrailing,r=void 0!==o&&o,s=a.noLeading,l=void 0!==s&&s,u=a.debounceMode,c=void 0===u?void 0:u,d=!1,f=0;function h(){i&&clearTimeout(i)}function p(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=this,u=Date.now()-f;function p(){f=Date.now(),t.apply(s,a)}function v(){i=void 0}d||(l||!c||i||p(),h(),void 0===c&&u>e?l?(f=Date.now(),r||(i=setTimeout(c?v:p,e))):p():!0!==r&&(i=setTimeout(c?v:p,void 0===c?e-u:e)))}return p.cancel=function(t){var e=t||{},n=e.upcomingOnly,i=void 0!==n&&n;h(),d=!i},p},n("d3b7"),n("ac1f"),n("e9c4")},9180:function(t,e,n){var i=n("8ace");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("cf6d81fc",i,!0,{sourceMap:!1,shadowMode:!1})},c957:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={raitoWaterfallItem:n("3722").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"waterfall-box",style:{height:t.waterfallBoxHeight+"px"}},[t._l(t.renderList,(function(e,i){return[n("v-uni-view",{key:e._renderKey+"_0",staticClass:"waterfall-box__item",class:{animation:t.animation},style:{top:e._layoutRect.top+"px",left:e._layoutRect.left+"px",width:t.columnWidth+"px"}},[n("raito-waterfall-item",{attrs:{itemObject:e},on:{heightChange:function(n){arguments[0]=n=t.$handleEvent(n),t.onHeightChange(e,n)}}})],1)]}))],2)},o=[]},cb29:function(t,e,n){var i=n("23e7"),a=n("81d5"),o=n("44d2");i({target:"Array",proto:!0},{fill:a}),o("fill")},d0e0:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={raitoWaterfall:n("5174").default},a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"page"},[e("raito-waterfall",{attrs:{data:this.data,count:2,gutter:10,lrPading:10,skeletonHeight:240,keyName:"id",animation:!0}})],1)},o=[]},db90:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630")},faeb:function(t,e,n){var i=n("7600");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("8a5cc2d6",i,!0,{sourceMap:!1,shadowMode:!1})}}]);